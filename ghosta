-- Loader remoto para script Ghosta

local KEY_REQUIRED = "Key_Lifetime"

local function promptKey()
    local Players = game:GetService("Players")
    local plr = Players.LocalPlayer

    -- Criar UI simples para input da key
    local gui = Instance.new("ScreenGui")
    gui.Name = "KeyPromptGui"
    gui.Parent = game:GetService("CoreGui")

    local frame = Instance.new("Frame", gui)
    frame.Size = UDim2.new(0,300,0,150)
    frame.Position = UDim2.new(0.5,-150,0.5,-75)
    frame.BackgroundColor3 = Color3.new(0,0,0)
    frame.BackgroundTransparency = 0.5
    frame.BorderSizePixel = 0

    local textLabel = Instance.new("TextLabel", frame)
    textLabel.Size = UDim2.new(1,0,0,50)
    textLabel.Position = UDim2.new(0,0,0,0)
    textLabel.Text = "Digite sua key para usar o script:"
    textLabel.TextColor3 = Color3.new(1,1,1)
    textLabel.BackgroundTransparency = 1
    textLabel.Font = Enum.Font.GothamBold
    textLabel.TextSize = 20

    local textBox = Instance.new("TextBox", frame)
    textBox.Size = UDim2.new(1,-20,0,40)
    textBox.Position = UDim2.new(0,10,0,60)
    textBox.ClearTextOnFocus = false
    textBox.Text = ""
    textBox.TextColor3 = Color3.new(1,1,1)
    textBox.BackgroundColor3 = Color3.new(0.2,0.2,0.2)
    textBox.Font = Enum.Font.Gotham
    textBox.TextSize = 18

    local submitBtn = Instance.new("TextButton", frame)
    submitBtn.Size = UDim2.new(0,100,0,30)
    submitBtn.Position = UDim2.new(0.5,-50,1,-40)
    submitBtn.Text = "Enviar"
    submitBtn.BackgroundColor3 = Color3.new(0,0.5,0)
    submitBtn.TextColor3 = Color3.new(1,1,1)
    submitBtn.Font = Enum.Font.GothamBold
    submitBtn.TextSize = 18

    local confirmed = false
    local userKey = nil

    submitBtn.MouseButton1Click:Connect(function()
        userKey = textBox.Text
        confirmed = true
    end)

    -- Esperar até o usuário enviar a key
    repeat
        task.wait()
    until confirmed

    gui:Destroy()
    return userKey
end

local userKey = promptKey()
if userKey ~= KEY_REQUIRED then
    warn("Key inválida! Script não será executado.")
    return
end

local scriptURL = "https://raw.githubusercontent.com/LucasRj021/Script-Test/82477b34a90267e6f709a5a2491cc7d068eb4903/ghosta"

local function fetchScript(url)
    local http = game:GetService("HttpService")
    local success, res = pcall(function()
        return http:GetAsync(url)
    end)
    if success then
        return res
    else
        warn("Falha ao buscar script remoto: "..tostring(res))
        return nil
    end
end

local scriptCode = fetchScript(scriptURL)
if not scriptCode then
    warn("Script remoto não disponível.")
    return
end

local func, err = loadstring(scriptCode)
if not func then
    warn("Erro ao compilar script remoto: "..tostring(err))
    return
end

local ok, e = pcall(func)
if not ok then
    warn("Erro ao executar script remoto: "..tostring(e))
    return
end
